<div id="winner">&nbsp;</div>
<table>
  <%= form_tag games_take_turn_path, {:remote => true, :id => "ttt_form"} do %>
    <% @game.board.each_with_index do |p, i| %>
      <% if (i % 3).zero? %>
        <tr>
      <% end %>
      <td class="<%= 'border-right' unless (last_column = ((i + 1) % 3).zero?) %>  <%= 'border-bottom' unless i/3 >= 2 %>">
       <%= select_tag "grid_#{i}", options_for_select(player_options), :onchange => "$('#ttt_form').submit();this.disabled=true;$('input#grid_#{i}').val(this.value); $('input#grid_#{i}').prop('disabled', false); ".html_safe %>
       <%= hidden_field_tag "grid_#{i}", nil, :disabled => true, :id => "grid_#{i}" %>
      </td>
      <% if last_column %>
        </tr>
      <% end %>
    <% end %>
  <% end %>
</table>
